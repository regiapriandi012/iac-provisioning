[defaults]
# Extreme Parallelization Settings for Maximum Speed
host_key_checking = False
gathering = smart
fact_caching = memory
fact_caching_timeout = 86400

# Maximum parallel execution
forks = 50
serial = 0

# Connection optimizations
timeout = 30
command_timeout = 60
connect_timeout = 30

# SSH optimizations
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o ServerAliveInterval=60 -o ServerAliveCountMax=10
pipelining = True

# Performance optimizations
callback_whitelist = profile_tasks, timer
stdout_callback = yaml

# Strategy plugins for parallel execution
strategy_plugins = /usr/local/lib/python3.*/site-packages/ansible/plugins/strategy
strategy = free

# Reduce logging overhead for speed
log_path = /tmp/ansible-parallel.log
display_skipped_hosts = False
display_ok_hosts = False

# Async settings
poll_interval = 1
async_timeout = 7200

# Retry settings
retry_files_enabled = False

# Inventory optimizations
inventory_cache = True
inventory_cache_timeout = 3600

# Mitogen optimizations (if installed)
[inventory]
cache = True
cache_plugin = memory
cache_timeout = 3600

[ssh_connection]
# SSH connection pooling
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path_dir = /tmp/.ansible-cp
control_path = %(directory)s/%%h-%%p-%%r
pipelining = True
retries = 3